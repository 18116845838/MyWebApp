@page
@model MyWebApp.Pages.FAQ.RegisterModel
@{
    Layout = "Layout/_Dual";
}
<!DOCTYPE html>
<html>
<head>
    @section head{
        <meta charset="utf-8" />
        <link href="https://17bang.ren/Images/logo-big.ico" rel="shortcut icon " type="image/x-icon" media="screen" />
        <link href="/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
        <link href="../css/MyStyle.css" rel="stylesheet" />
        <link href="../fons/font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet" />
        <title>注册 一起帮</title>
    }

</head>
<body>


        <main style="margin-top:60px;">
            <div class="container">
                <div class="row">
                    <div class="col-12"><h1><i class="fa fa-registered"></i>注册</h1></div>
                </div>
                <hr />
                <div class="row">

                    <div class="col-5">
                        <form class="needs-validation;novalidate">

                            <div style="background-color:#ffffe0;border-radius:5px 5px 5px 5px;padding-top:5px;border:dashed #eeeeee">
                                <a href="#" style="float:right"> <i class="fa fa-question-circle"></i> 为什么需要邀请人</a>
                                <div class="form-group" style="clear:both">
                                    <label for="formGroupExampleInput" >邀请人：（* 必填，<a href="#">没有邀请人</a>）</label>
                                    <input asp-for="NewUser.Name" class="form-control"  placeholder="他的用户名，模糊查询只能从头开始">
                                </div>
                                <div class="form-group">
                                    <label for="formGroupExampleInput2">邀请码：（* 必填）</label>
                                    <input asp-for="NewUser.InvitationCode" class="form-control"  placeholder="4位数字">
                                </div>
                                <i style="visibility:hidden">1</i>
                            </div>

                            <div class="form-group">
                                <label for="formGroupExampleInput2">用户名：（* 必填）</label>
                                <input asp-for="NewUser.Name" class="form-control"  placeholder="登陆用户名，可修改，不能重复">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">密码：（* 必填）</label>
                                <input asp-for="NewUser.Password" class="form-control" placeholder="不少于四个字符">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">验证密码：（* 必填）</label>
                                <input asp-for="NewUser.ValidatePassword" class="form-control"  placeholder="和密码相同">
                            </div>
                            <label asp-for="NewUser.Captcha">验证码：（* 必填）</label>

                            <span class="form-row">
                                <span class="col-md-3 mb-3" style="float:left">
                                    <input type="text" class="form-control" id="validationDefault05" required>

                                </span>
                                <span style="line-height:38px">
                                    点击输入框显示
                                </span>
                            </span>
                            <button type="submit" id="submit" class="btn btn-primary">提交</button>
                            <button type="reset" class="btn btn-primary" style="background-color:#ffffff ;color:black">重置</button>
                            <a href="../Log/On.html" class="pull-right"><i class="fa fa-sign-in"></i>登录</a>

                        </form>
                    </div>
                    <div class="col-7">
                        <h3><i class="fa fa-question-circle"></i> 说明</h3>
                        <ol>
                            <li>我们希望通过<a href="#">一起帮</a>，能直接解决大家在电脑操作 /软件使用/编程学习等方面的具体问题。</li>
                            <li>现在互联网远程技术（比如QQ桌面共享）已经非常成熟，当我们再遇到上述问题，如果别人能直接远程给予帮助，岂不是好？</li>
                            <li>当然，你也可以在你熟悉的领域去帮助别人。由此而形成我们这个“你帮他他帮我我帮你，大家一起帮”的网上互助社区平台。</li>
                            <li>公平起见，我们还引入了 帮帮点/币/豆 三级概念，以记录和衡量社区成员的收获和贡献。</li>
                            <li>赶快加入我们，赚取帮帮币吧！</li>
                            <li><a href="#"><i class="fa fa-hand-o-right"></i>了解更多</a></li>
                        </ol>
                    </div>

                </div>
                <hr />
            </div>

        </main>

<script>
    {
        //let password = document.getElementById("password");
        //let ConfirmPassword = document.getElementById("ConfirmPassword");
        //if (password.value.length < 4) {
        //  alert("密码的长度不能小于四");
        //}//else
        // if (ConfirmPassword.value !== password.value) {
        //   alert("密码和确认密码必须一致");
        //}//else
    }

    {
        //参考注册页面：

        //提交时，如果用户名重复（已有用户名用数组保存），阻止form提交，提示“用户名重复”。
        //重新输入用户名，一旦输入用户名部分没有重复，“用户名重复”的提示消失
        //当用户名或密码等有值时，关闭页面前弹出确认框
        let array = ['spl', 'C#', 'js', 'css'];
        let userName = document.getElementById("userName");
        //阻止form提交
        document.addEventListener('submit', function (event) {
            for (var i = 0; i < array.length; i++) {
                if (array[i] == userName.value) {
                    event.preventDefault();
                }//else
            }
        })
        userName.onkeyup = function (event) {
            for (var i = 0; i < array.length; i++) {
                if (array[i] == this.value) {
                    let promptMessage = document.createElement('p');
                    let value = document.createTextNode('用户名重复');
                    promptMessage.appendChild(value);
                    this.parentElement.appendChild(promptMessage);
                    return;
                } else {
                    if (this.parentElement.getElementsByTagName("p")[0] !== undefined) {
                        this.parentElement.getElementsByTagName("p")[0].remove();
                    }//else
                }
            }
        }



        window.onbeforeunload = function (event) {
            if (userName.value.length > 0 || document.getElementById("password").value.length > 0) {
                return confirm("信息未保存");
            }//else

        }
    }

</script>
</body>
</html>